function _0x51ee(){var _0x1dbe33=['\x63\x6f\x6f\x6c\x64\x6f\x77\x6e\x73','\x31\x31\x6c\x42\x43\x56\x52\x78','\x4a\x6f\x68\x6e\x20\x4c\x65\x73\x74\x65','\x32\x39\x38\x31\x31\x34\x59\x4a\x42\x54\x68\x4a','\x31\x36\x34\x38\x32\x36\x39\x68\x79\x68\x4e\x7a\x55','\x65\x67\x6f\x72\x79','\x37\x76\x74\x54\x65\x64\x54','\x68\x61\x73\x50\x65\x72\x6d\x73\x73\x69','\x6e\x61\x6d\x65','\x37\x2e\x33\x2e\x31','\x33\x33\x33\x36\x34\x38\x54\x6f\x55\x50\x76\x45','\x66\x73\x2d\x65\x78\x74\x72\x61','\x35\x30\x34\x31\x34\x38\x52\x55\x59\x72\x66\x54','\x20\x28\x20\u0361\u00b0\x20\u035c\u0296\x20\u0361\u00b0\x29','\x63\x6f\x6e\x66\x69\x67','\x32\x39\x34\x37\x35\x36\x5a\x6e\x7a\x75\x41\x66','\x76\x65\x72\x73\x69\x6f\x6e','\x34\x34\x37\x34\x5a\x75\x68\x68\x59\x42','\x78\x61\x76\x69\x65\x72','\x63\x72\x65\x64\x69\x74\x73','\x35\x31\x31\x32\x30\x35\x30\x78\x61\x64\x6c\x66\x77','\x61\x78\x69\x6f\x73','\x65\x64\x69\x74\x2d\x69\x6d\x67','\x63\x61\x6e\x76\x61\x73','\x75\x73\x61\x67\x65\x73','\x78\x74\x5d','\x43\x6f\x6d\x6d\x65\x6e\x74\x20\x6f\x6e','\x64\x65\x70\x65\x6e\x64\x65\x6e\x63\x69','\x35\x58\x64\x4e\x57\x62\x70','\x63\x6f\x6d\x6d\x61\x6e\x64\x43\x61\x74','\x31\x32\x57\x49\x47\x71\x63\x51'];_0x51ee=function(){return _0x1dbe33;};return _0x51ee();}var _0x4373b6=_0x8257;function _0x8257(_0x56c5b0,_0x1df242){var _0x198c80=_0x51ee();return _0x8257=function(_0xae72b,_0x30aea8){_0xae72b=_0xae72b-(-0x1261*0x2+0x225a+0x333);var _0x1fab69=_0x198c80[_0xae72b];return _0x1fab69;},_0x8257(_0x56c5b0,_0x1df242);}(function(_0xaf65c0,_0x4faab2){var _0x12984c={_0x41a3d5:0xdf,_0x353d36:0xce,_0x5601a4:0xdb,_0x4460f8:0xe8,_0xd27df1:0xd9,_0x50722e:0xe2,_0x5d6fc8:0xd1},_0x18e9da=_0x8257,_0x473bda=_0xaf65c0();while(!![]){try{var _0x31b385=parseInt(_0x18e9da(_0x12984c._0x41a3d5))/(-0x16bb*0x1+-0x18ac+0x2f68)+-parseInt(_0x18e9da(_0x12984c._0x353d36))/(0x23a5+-0x1e3a+-0x569)*(parseInt(_0x18e9da(_0x12984c._0x5601a4))/(-0xafd*-0x3+-0x8*-0x146+-0x4*0xac9))+parseInt(_0x18e9da(_0x12984c._0x4460f8))/(-0x1506+-0x10*0x1a6+0x165*0x22)*(parseInt(_0x18e9da(_0x12984c._0xd27df1))/(0x25e*0x9+0x6*-0x3e5+0x215))+parseInt(_0x18e9da(0xcc))/(0xf45*-0x1+-0xa6a+0x1*0x19b5)+-parseInt(_0x18e9da(_0x12984c._0x50722e))/(-0x2214+0xc2e+-0x3*-0x74f)*(-parseInt(_0x18e9da(0xe6))/(-0x8b*0x2c+0xa0d+0xddf))+parseInt(_0x18e9da(0xe0))/(0x2*-0x880+0x1c48+-0xb3f*0x1)+parseInt(_0x18e9da(_0x12984c._0x5d6fc8))/(0x4*-0x1a7+-0x6bd+-0xd63*-0x1)*(-parseInt(_0x18e9da(0xdd))/(-0x1*0xcc8+-0x223a+0x2f0d));if(_0x31b385===_0x4faab2)break;else _0x473bda['push'](_0x473bda['shift']());}catch(_0x35651d){_0x473bda['push'](_0x473bda['shift']());}}}(_0x51ee,0x1*0x3ecdb+-0x80f9+0x63b*-0x1d));var _0x30aea8={};_0x30aea8[_0x4373b6(0xd4)]='',_0x30aea8[_0x4373b6(0xd2)]='',_0x30aea8[_0x4373b6(0xe7)]='';var _0x1fab69={};_0x1fab69[_0x4373b6(0xe4)]=_0x4373b6(0xcf),_0x1fab69[_0x4373b6(0xcd)]=_0x4373b6(0xe5),_0x1fab69[_0x4373b6(0xe3)+'\x6f\x6e']=0x0,_0x1fab69[_0x4373b6(0xd0)]=_0x4373b6(0xde)+'\x72',_0x1fab69['\x64\x65\x73\x63\x72\x69\x70\x74\x69\x6f'+'\x6e']=_0x4373b6(0xd7)+'\x20\x74\x68\x65\x20\x62\x6f\x61\x72\x64'+_0x4373b6(0xe9),_0x1fab69[_0x4373b6(0xda)+_0x4373b6(0xe1)]=_0x4373b6(0xd3),_0x1fab69[_0x4373b6(0xd5)]='\x78\x61\x76\x69\x65\x72\x20\x5b\x74\x65'+_0x4373b6(0xd6),_0x1fab69[_0x4373b6(0xdc)]=0xa,_0x1fab69[_0x4373b6(0xd8)+'\x65\x73']=_0x30aea8,module['\x65\x78\x70\x6f\x72\x74\x73'][_0x4373b6(0xcb)]=_0x1fab69;
module.exports.wrapText = (ctx, text, maxWidth) => {
	return new Promise(resolve => {
		if (ctx.measureText(text).width < maxWidth) return resolve([text]);
		if (ctx.measureText('W').width > maxWidth) return resolve(null);
		const words = text.split(' ');
		const lines = [];
		let line = '';
		while (words.length > 0) {
			let split = false;
			while (ctx.measureText(words[0]).width >= maxWidth) {
				const temp = words[0];
				words[0] = temp.slice(0, -1);
				if (split) words[1] = `${temp.slice(-1)}${words[1]}`;
				else {
					split = true;
					words.splice(1, 0, temp.slice(-1));
				}
			}
			if (ctx.measureText(`${line}${words[0]}`).width < maxWidth) line += `${words.shift()} `;
			else {
				lines.push(line.trim());
				line = '';
			}
			if (words.length === 0) lines.push(line.trim());
		}
		return resolve(lines);
	});
} 

module.exports.run = async function({ api, event, args }) {
	let { senderID, threadID, messageID } = event;
	const { loadImage, createCanvas } = require("canvas");
	const fs = global.nodemodule["fs-extra"];
	const axios = global.nodemodule["axios"];
	let pathImg = __dirname + '/cache/xavier.png';
	var text = args.join(" ");
	if (!text) return api.sendMessage("Enter the content of the comment on the board", threadID, messageID);
	let getPorn = (await axios.get(`https://i.imgur.com/x9bnTJ9.jpeg`, { responseType: 'arraybuffer' })).data;
	fs.writeFileSync(pathImg, Buffer.from(getPorn, 'utf-8'));
	let baseImage = await loadImage(pathImg);
	let canvas = createCanvas(baseImage.width, baseImage.height);
	let ctx = canvas.getContext("2d");
	ctx.drawImage(baseImage, 0, 0, canvas.width, canvas.height);
	ctx.font = "400 18px Arial";
	ctx.fillStyle = "#000000";
	ctx.textAlign = "start";
	let fontSize = 50;
	while (ctx.measureText(text).width > 1200) {
		fontSize--;
		ctx.font = `400 ${fontSize}px Arial`;
	}
	const lines = await this.wrapText(ctx, text, 470);
	ctx.fillText(lines.join('\n'), 20,80);//comment
	ctx.beginPath();
	const imageBuffer = canvas.toBuffer();
	fs.writeFileSync(pathImg, imageBuffer);
return api.sendMessage({ attachment: fs.createReadStream(pathImg) }, threadID, () => fs.unlinkSync(pathImg), messageID);        
}